<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸš‚ Activity 2: Plural Punctuation</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* Specific styles for the Plural Switcher */
        .activity-counter {
            color: var(--green);
            font-size: 1.2em;
            margin-top: -10px;
        }
        .switch-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 30px;
        }
        .singular-panel, .plural-panel {
            background-color: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            min-height: 250px;
            transition: background-color 0.4s;
        }
        .singular-panel { border: 3px solid var(--orange); }
        .plural-panel { border: 3px solid var(--green); }

        .s-token-zone {
            font-size: 1.8em;
            font-weight: 700;
            padding: 15px 0;
            min-height: 50px;
            line-height: 1.4;
        }

        .s-morpheme {
            background-color: var(--red);
            color: white;
            padding: 5px 10px;
            border-radius: 50%;
            cursor: grab;
            display: inline-block;
            transition: transform 0.2s;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            font-size: 0.8em;
            line-height: 1;
            margin: 0 2px;
            user-select: none;
        }
        .s-morpheme:hover {
            transform: scale(1.1);
        }
        .pictogram-visual {
            min-height: 100px;
            font-size: 3em;
            margin-top: 15px;
        }
        .check-button {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <header class="header">
        <h1>ğŸš‚ Plural Punctuation Switcher</h1>
        <p class="activity-page-title activity-counter" id="activity-counter">Activity 1 of 20</p>
    </header>
    <nav class="navigation">
        <a href="index.html">ğŸ  Main Hub</a>
        <a href="locomotive-lingo.html">1. Locomotive Lingo ğŸ§©</a>
        <a href="pictogram-puzzle.html">3. Pictogram Puzzle ğŸ–¼ï¸</a>
    </nav>
    <main class="content-container">

        <div class="instruction-box">
            <p><strong>Instructions:</strong> Drag the <strong>-s token</strong> ğŸ”´ from the verb (Singular side) and drop it onto the noun (Plural side) to correctly switch the sentence from singular to plural. Watch the picture change!</p>
        </div>

        <div class="switch-container">
            <div class="singular-panel" id="singular-panel">
                <h3 id="singular-title">Singular (One Cat) ğŸ±</h3>
                <div class="s-token-zone" id="singular-sentence">
                    </div>
                <div class="pictogram-visual" id="singular-pictogram">
                    </div>
            </div>

            <div class="plural-panel" id="plural-panel">
                <h3 id="plural-title">Plural (Multiple Cats) ğŸˆâ€â¬›ğŸˆâ€â¬›</h3>
                <div class="s-token-zone" id="plural-sentence">
                    </div>
                <div class="pictogram-visual" id="plural-pictogram">
                    </div>
            </div>
        </div>

        <button class="check-button" onclick="checkState()">âœ… Check State</button>
        <button class="check-button" id="next-activity-btn" style="display: none; background-color: var(--purple);" onclick="loadNextActivity()">â¡ï¸ Next Activity</button>
        <p id="feedback-message" style="font-size: 1.5em; font-weight: 700; margin-top: 20px; color: var(--text-dark);">Move the -s to the correct side!</p>

    </main>
    <footer class="footer">
        <p>Keep those train parts moving! âœ¨</p>
    </footer>

    <script>
Â  Â  Â  Â  // --- JavaScript for the Plural Switcher Logic (20 Activities) ---

Â  Â  Â  Â  const sToken = document.createElement('span');
Â  Â  Â  Â  sToken.id = 's-token';
Â  Â  Â  Â  sToken.className = 's-morpheme';
Â  Â  Â  Â  sToken.textContent = '-s';
Â  Â  Â  Â  sToken.draggable = true;
Â  Â  Â  Â  sToken.addEventListener('dragstart', handleDragStart);
Â  Â  Â  Â  sToken.addEventListener('click', handleTokenClick); // Click handler for accessibility

Â  Â  Â  Â  const singularSentence = document.getElementById('singular-sentence');
Â  Â  Â  Â  const pluralSentence = document.getElementById('plural-sentence');
Â  Â  Â  Â  const singularPictogram = document.getElementById('singular-pictogram');
Â  Â  Â  Â  const pluralPictogram = document.getElementById('plural-pictogram');
Â  Â  Â  Â  const singularPanel = document.getElementById('singular-panel');
Â  Â  Â  Â  const pluralPanel = document.getElementById('plural-panel');
Â  Â  Â  Â  const nextButton = document.getElementById('next-activity-btn');
Â  Â  Â  Â  const feedback = document.getElementById('feedback-message');
Â  Â  Â  Â  const activityCounter = document.getElementById('activity-counter');
        const checkButton = document.querySelector('.check-button');


Â  Â  Â  Â  // --- THE 20 ACTIVITY BANK ---
Â  Â  Â  Â  // Format: [Singular Noun, Singular Verb (with s/.), Singular Icon, Plural Icon]
Â  Â  Â  Â  const activityBank = [
Â  Â  Â  Â  Â  Â  ["The cat", "walks.", "ğŸ±ğŸš¶", "ğŸˆâ€â¬›ğŸˆâ€â¬›ğŸš¶"], // 1
Â  Â  Â  Â  Â  Â  ["The dog", "runs.", "ğŸ•â€ğŸ¦ºğŸƒ", "ğŸ¶ğŸ¶ğŸƒ"], // 2
Â  Â  Â  Â  Â  Â  ["The boy", "throws.", "ğŸ‘¦ğŸ»âš¾", "âš½âš½ğŸ‘¦ğŸ»"], // 3
Â  Â  Â  Â  Â  Â  ["The girl", "reads.", "ğŸ‘§ğŸ»ğŸ“–", "ğŸ“šğŸ“šğŸ‘§ğŸ»"], // 4
Â  Â  Â  Â  Â  Â  ["The train", "stops.", "ğŸš‚ğŸ›‘", "ğŸš‚ğŸš‚ğŸ›‘"], // 5
Â  Â  Â  Â  Â  Â  ["The engine", "whistles.", "ğŸ”ŠğŸš‚", "ğŸš‚ğŸ”ŠğŸš‚"], // 6
Â  Â  Â  Â  Â  Â  ["The student", "learns.", "ğŸ§‘â€ğŸ“ğŸ§ ", "ğŸ“šğŸ§‘â€ğŸ“ğŸ§ "], // 7
Â  Â  Â  Â  Â  Â  ["The teacher", "smiles.", "ğŸ‘©â€ğŸ«ğŸ˜Š", "ğŸ‘¨â€ğŸ«ğŸ‘©â€ğŸ«ğŸ˜Š"], // 8
Â  Â  Â  Â  Â  Â  ["A flower", "grows.", "ğŸŒ¸ğŸŒ±", "ğŸŒ¼ğŸŒ¼ğŸŒ±"], // 9
Â  Â  Â  Â  Â  Â  ["A baby", "cries.", "ğŸ‘¶ğŸ˜­", "ğŸ¼ğŸ‘¶ğŸ˜­"], // 10
Â  Â  Â  Â  Â  Â  ["My friend", "calls.", "ğŸ“ğŸ‘¯", "ğŸ“ğŸ§‘â€ğŸ¤â€ğŸ§‘"], // 11
Â  Â  Â  Â  Â  Â  ["The doctor", "helps.", "ğŸ‘©â€âš•ï¸â•", "ğŸ§‘â€âš•ï¸ğŸ‘©â€âš•ï¸â•"], // 12
Â  Â  Â  Â  Â  Â  ["The clock", "ticks.", "â°âœ”ï¸", "ğŸ•°ï¸â°âœ”ï¸"], // 13
Â  Â  Â  Â  Â  Â  ["The boat", "sails.", "â›µğŸŒŠ", "âš“â›µğŸŒŠ"], // 14
Â  Â  Â  Â  Â  Â  ["A star", "shines.", "â­âœ¨", "ğŸŒŸğŸŒŸâœ¨"], // 15
Â  Â  Â  Â  Â  Â  ["A pencil", "draws.", "âœï¸ğŸ–ï¸", "ğŸ–Šï¸âœï¸ğŸ–ï¸"], // 16
Â  Â  Â  Â  Â  Â  ["The mouse", "eats.", "ğŸğŸ§€", "ğŸ­ğŸ­ğŸ§€"], // 17
Â  Â  Â  Â  Â  Â  ["The rabbit", "jumps.", "ğŸ‡â¬†ï¸", "ğŸ°ğŸ°â¬†ï¸"], // 18
Â  Â  Â  Â  Â  Â  ["The light", "blinks.", "ğŸ’¡âš¡", "ğŸ’¡ğŸ’¡âš¡"], // 19
Â  Â  Â  Â  Â  Â  ["The farmer", "works.", "ğŸ§‘â€ğŸŒ¾ğŸ”¨", "ğŸ‘©â€ğŸŒ¾ğŸ§‘â€ğŸŒ¾ğŸ”¨"] // 20
Â  Â  Â  Â  ];

Â  Â  Â  Â  let currentActivityIndex = 0;
Â  Â  Â  Â  let sTokenIsPlural = false; // Tracks if the -s is on the plural side

Â  Â  Â  Â  // --- Drag/Drop Handlers ---
Â  Â  Â  Â  function handleDragStart(e) {
Â  Â  Â  Â  Â  Â  e.dataTransfer.setData('text/plain', 's-morpheme');
Â  Â  Â  Â  Â  Â  e.target.style.opacity = 0.4;
Â  Â  Â  Â  }

        function handleDragEnd(e) {
            e.target.style.opacity = 1;
        }
        sToken.addEventListener('dragend', handleDragEnd);

Â  Â  Â  Â  function handleTokenClick() {
Â  Â  Â  Â  Â  Â  if (!sTokenIsPlural) {
Â  Â  Â  Â  Â  Â  Â  Â  moveSToken(pluralSentence);
Â  Â  Â  Â  Â  Â  } else {
                moveSToken(singularSentence);
            }
Â  Â  Â  Â  }

Â  Â  Â  Â  // Drop Zone: Plural Panel
Â  Â  Â  Â  pluralSentence.parentNode.addEventListener('dragover', (e) => {
Â  Â  Â  Â  Â  Â  e.preventDefault();
Â  Â  Â  Â  Â  Â  pluralPanel.style.boxShadow = '0 0 15px var(--red)';
Â  Â  Â  Â  });

Â  Â  Â  Â  pluralSentence.parentNode.addEventListener('dragleave', (e) => {
Â  Â  Â  Â  Â  Â  pluralPanel.style.boxShadow = 'none';
Â  Â  Â  Â  });

Â  Â  Â  Â  pluralSentence.parentNode.addEventListener('drop', (e) => {
Â  Â  Â  Â  Â  Â  e.preventDefault();
Â  Â  Â  Â  Â  Â  pluralPanel.style.boxShadow = 'none';

Â  Â  Â  Â  Â  Â  if (e.dataTransfer.getData('text/plain') === 's-morpheme' && !sTokenIsPlural) {
Â  Â  Â  Â  Â  Â  Â  Â  moveSToken(pluralSentence);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  });

        // Drop Zone: Singular Panel (allows dragging back for visual testing)
        singularSentence.parentNode.addEventListener('dragover', (e) => {
Â  Â  Â  Â  Â  Â  e.preventDefault();
Â  Â  Â  Â  Â  Â  singularPanel.style.boxShadow = '0 0 15px var(--red)';
Â  Â  Â  Â  });

Â  Â  Â  Â  singularSentence.parentNode.addEventListener('dragleave', (e) => {
Â  Â  Â  Â  Â  Â  singularPanel.style.boxShadow = 'none';
Â  Â  Â  Â  });

Â  Â  Â  Â  singularSentence.parentNode.addEventListener('drop', (e) => {
Â  Â  Â  Â  Â  Â  e.preventDefault();
Â  Â  Â  Â  Â  Â  singularPanel.style.boxShadow = 'none';

Â  Â  Â  Â  Â  Â  if (e.dataTransfer.getData('text/plain') === 's-morpheme' && sTokenIsPlural) {
Â  Â  Â  Â  Â  Â  Â  Â  moveSToken(singularSentence);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  });


        // Function to move the token and update visuals
        function moveSToken(targetZone) {
            if (targetZone === pluralSentence) {
                // Move from Singular to Plural
                sTokenIsPlural = true;
                updateVisuals();
            } else if (targetZone === singularSentence) {
                // Move from Plural back to Singular (not used in primary task, but for reset)
                sTokenIsPlural = false;
                updateVisuals();
            }
        }
Â  Â  Â  Â  Â  Â  

Â  Â  Â  Â  // --- Core Functions ---

Â  Â  Â  Â  function updateVisuals() {
Â  Â  Â  Â  Â  Â  const [singularNoun, singularVerb, singularIcon, pluralIcon] = activityBank[currentActivityIndex];
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Base parts:
Â  Â  Â  Â  Â  Â  const baseVerb = singularVerb.replace(/\./g, '').slice(0, -1); // e.g., 'walk' (removes 's' and '.')
Â  Â  Â  Â  Â  Â  const nounPrefix = singularNoun.replace(/The|A/g, 'The'); // ensures "The" is used for plural

Â  Â  Â  Â  Â  Â  // Always ensure the token is removed before deciding where to put it
Â  Â  Â  Â  Â  Â  sToken.remove();

Â  Â  Â  Â  Â  Â  if (sTokenIsPlural) {
Â  Â  Â  Â  Â  Â  Â  Â  // ğŸ¥‡ CORRECT STATE: Token goes on the Noun side
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // Singular Panel: Subject singular, Verb base form. (The cat walk.)
Â  Â  Â  Â  Â  Â  Â  Â  singularSentence.innerHTML = `${singularNoun} ${baseVerb}.`;
Â  Â  Â  Â  Â  Â  Â  Â  singularPictogram.textContent = singularIcon; // Singular picture

Â  Â  Â  Â  Â  Â  Â  Â  // Plural Panel: Subject plural (noun + s), Verb base form. (The cats walk.)
                pluralSentence.innerHTML = `${nounPrefix}<span id="plural-noun-s-location">${singularNoun.includes('The') ? '' : ' '}</span> ${baseVerb}.`;
Â  Â  Â  Â  Â  Â  Â  Â  pluralSentence.querySelector('#plural-noun-s-location').appendChild(sToken); // Attach -s after the noun base

Â  Â  Â  Â  Â  Â  Â  Â  pluralPictogram.textContent = pluralIcon; // Plural picture

Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  // âŒ INCORRECT STATE: Token goes on the Verb side
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // Singular Panel: Subject singular, Verb base form + s. (The cat walks.)
Â  Â  Â  Â  Â  Â  Â  Â  singularSentence.innerHTML = `${singularNoun} <span id="singular-verb-target">${baseVerb}</span>.`;
Â  Â  Â  Â  Â  Â  Â  Â  singularSentence.querySelector('#singular-verb-target').appendChild(sToken); // Attach -s after the verb base
Â  Â  Â  Â  Â  Â  Â  Â  singularPictogram.textContent = singularIcon; // Singular picture

Â  Â  Â  Â  Â  Â  Â  Â  // Plural Panel displays the INCORRECT sentence structure (for demonstration)
                pluralSentence.innerHTML = `${nounPrefix}s ${baseVerb}.`;
Â  Â  Â  Â  Â  Â  Â  Â  pluralPictogram.textContent = singularIcon; // Show singular icon when state is singular
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

        function checkState() {
            checkButton.style.display = 'none'; // Hide check button during check

            if (sTokenIsPlural) {
                // CORRECT STATE: -s is on the Plural Noun side
                feedback.textContent = `ğŸ¥³ CORRECT! The -s moved from the verb to the noun.`;
                feedback.style.color = 'var(--green)';
                singularPanel.style.backgroundColor = 'white';
                pluralPanel.style.backgroundColor = 'var(--green-light)';
                nextButton.style.display = 'block';
            } else {
                // INCORRECT STATE: -s is still on the Singular Verb side
                feedback.textContent = `âŒ Fix the plural side! The -s is still on the singular verb.`;
                feedback.style.color = 'var(--red)';
                singularPanel.style.backgroundColor = 'var(--yellow)';
                pluralPanel.style.backgroundColor = 'white';
                checkButton.style.display = 'block'; // Show check button again
            }
        }
Â  Â  Â  Â Â 
Â  Â  Â  Â  function loadActivity(index) {
Â  Â  Â  Â  Â  Â  if (index >= activityBank.length) {
                feedback.textContent = "ğŸ¥³ YOU CRUSHED IT! All activities complete. Time to master another module.";
 Â  Â  Â  Â  Â  Â  Â  Â feedback.style.color = 'var(--purple)';
                nextButton.style.display = 'none';
                return;
            }

            currentActivityIndex = index;
Â  Â  Â  Â  Â  Â  sTokenIsPlural = false; // Reset state

Â  Â  Â  Â  Â  Â  activityCounter.textContent = `Activity ${index + 1} of ${activityBank.length}`;
Â  Â  Â  Â  Â  Â  nextButton.style.display = 'none';
            checkButton.style.display = 'block';

Â  Â  Â  Â  Â  Â  // Initial setup always starts in the INCORRECT (Singular) state.
Â  Â  Â  Â  Â  Â  updateVisuals();
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Set initial state colors/feedback
Â  Â  Â  Â  Â  Â  singularPanel.style.backgroundColor = 'var(--yellow)';
Â  Â  Â  Â  Â  Â  pluralPanel.style.backgroundColor = 'white';
Â  Â  Â  Â  Â  Â  feedback.textContent = `Instructions: Drag the **-s token** ğŸ”´ from the verb (Singular side) and drop it onto the noun (Plural side) to correctly switch the sentence from singular to plural. Watch the picture change!`;
Â  Â  Â  Â  Â  Â  feedback.style.color = 'var(--text-dark)';
Â  Â  Â  Â  }

Â  Â  Â  Â  function loadNextActivity() {
Â  Â  Â  Â  Â  Â  loadActivity(currentActivityIndex + 1);
Â  Â  Â  Â  }

Â  Â  Â  Â  // Start the first activity on load
Â  Â  Â  Â  loadActivity(0);Â 
Â  Â  </script>
</body>
</html>
