<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üöÇ Activity 1: Locomotive Lingo</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* New style for tokens that are already in the sentence area */
        .sentence-token {
            cursor: pointer;
            margin-right: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .token-adverb { 
            background-color: #3498db; /* Blue for Adverbs */ 
            color: white;
        }
    </style>
</head>
<body>
    <header class="header">
        <h1>üöÇ Locomotive Lingo: Unscramble It!</h1>
        <p class="activity-page-title" id="activity-counter">Activity 1: Simple Noun & Verb (Singular)</p>
    </header>
    <nav class="navigation">
        <a href="index.html">üè† Main Hub</a>
        <a href="plural-punctuation.html">2. Plural Punctuation üî†</a>
        <a href="pictogram-puzzle.html">3. Pictogram Puzzle üñºÔ∏è</a>
    </nav>
    <main class="content-container">

        <div class="instruction-box">
            <p><strong>Instructions:</strong> Click the words (train tokens) from the bank below in the correct order. Remember: the <strong>Noun Carriage</strong> üü† comes before the <strong>Verb Locomotive</strong> üü°!</p>
        </div>

        <div class="sentence-area">
            <div class="train-track-visual" id="train-track-icons">
                <span style="color: var(--orange); margin: 0 10px;">üü†</span> 
                <span style="color: var(--yellow); margin: 0 10px;">üü°</span>
            </div>
            <div class="result-sentence" id="sentence-drop-zone">
                <p>Click the words here...</p>
            </div>
        </div>

        <div class="word-bank" id="word-bank">
        </div>

        <div class="punctuation-area">
            Final Sentence (with punctuation): <span id="final-sentence-display"></span>
            <button onclick="addPunctuation('.')">üõë Add Full Stop</button>
            <button class="check-button" onclick="checkSentence()">‚úÖ Check Answer</button>
        </div>
        
        <p id="feedback-message" style="font-size: 1.5em; font-weight: 700; margin-top: 20px; color: var(--text-dark);">Let's go!</p>

        <div class="pictogram-area">
            <p>‚úèÔ∏è **Draw the Pictogram:** *Visual representation of the sentence will go here.*</p> 
        </div>

    </main>
    <footer class="footer">
        <p>All aboard for language success! ‚ú®</p>
    </footer>

    <script>
        // --- JavaScript for Activity Logic (20 Activities) ---

        const wordBank = document.getElementById('word-bank');
        const dropZone = document.getElementById('sentence-drop-zone');
        const finalDisplay = document.getElementById('final-sentence-display');
        const feedback = document.getElementById('feedback-message');
        const checkButton = document.querySelector('.check-button');
        const activityCounter = document.getElementById('activity-counter');
        
        const nextButton = document.createElement('button');
        nextButton.textContent = '‚û°Ô∏è Next Activity';
        nextButton.className = 'check-button';
        nextButton.style.marginTop = '10px';
        nextButton.style.display = 'none';
        nextButton.onclick = loadNextActivity;
        checkButton.parentNode.appendChild(nextButton);

        // --- THE 20 ACTIVITY BANK ---
        const activityBank = [
            // Format: { id, sentence, words: [ {word, type} ] }
            { id: 1, sentence: "The cat walks.", words: [ {word: "The", type: "article"}, {word: "cat", type: "noun"}, {word: "walks", type: "verb"} ] },
            { id: 2, sentence: "The dog runs.", words: [ {word: "The", type: "article"}, {word: "dog", type: "noun"}, {word: "runs", type: "verb"} ] },
            { id: 3, sentence: "The boy throws.", words: [ {word: "The", type: "article"}, {word: "boy", type: "noun"}, {word: "throws", type: "verb"} ] },
            { id: 4, sentence: "The girl swings.", words: [ {word: "The", type: "article"}, {word: "girl", type: "noun"}, {word: "swings", type: "verb"} ] },
            { id: 5, sentence: "The cats walk.", words: [ {word: "The", type: "article"}, {word: "cats", type: "noun"}, {word: "walk", type: "verb"} ] },
            { id: 6, sentence: "The dogs run.", words: [ {word: "The", type: "article"}, {word: "dogs", type: "noun"}, {word: "run", type: "verb"} ] },
            { id: 7, sentence: "The boys throw.", words: [ {word: "The", type: "article"}, {word: "boys", type: "noun"}, {word: "throw", type: "verb"} ] },
            { id: 8, sentence: "The girls swing.", words: [ {word: "The", type: "article"}, {word: "girls", type: "noun"}, {word: "swing", type: "verb"} ] },
            { id: 9, sentence: "The leaves fall.", words: [ {word: "The", type: "article"}, {word: "leaves", type: "noun"}, {word: "fall", type: "verb"} ] },
            { id: 10, sentence: "The fish swim.", words: [ {word: "The", type: "article"}, {word: "fish", type: "noun"}, {word: "swim", type: "verb"} ] },
            { id: 11, sentence: "The children dance.", words: [ {word: "The", type: "article"}, {word: "children", type: "noun"}, {word: "dance", type: "verb"} ] },
            { id: 12, sentence: "The teeth shine.", words: [ {word: "The", type: "article"}, {word: "teeth", type: "noun"}, {word: "shine", type: "verb"} ] },
            { id: 13, sentence: "The dog barks loudly.", words: [ {word: "The", type: "article"}, {word: "dog", type: "noun"}, {word: "barks", type: "verb"}, {word: "loudly", type: "adverb"} ] },
            { id: 14, sentence: "The bird flies high.", words: [ {word: "The", type: "article"}, {word: "bird", type: "noun"}, {word: "flies", type: "verb"}, {word: "high", type: "adverb"} ] },
            { id: 15, sentence: "A chef cooks dinner.", words: [ {word: "A", type: "article"}, {word: "chef", type: "noun"}, {word: "cooks", type: "verb"}, {word: "dinner", type: "noun"} ] },
            { id: 16, sentence: "We read books.", words: [ {word: "We", type: "article"}, {word: "read", type: "verb"}, {word: "books", type: "noun"} ] },
            { id: 17, sentence: "They drive trucks.", words: [ {word: "They", type: "article"}, {word: "drive", type: "verb"}, {word: "trucks", type: "noun"} ] },
            { id: 18, sentence: "He eats slowly.", words: [ {word: "He", type: "article"}, {word: "eats", type: "verb"}, {word: "slowly", type: "adverb"} ] },
            { id: 19, sentence: "The engine runs fast.", words: [ {word: "The", type: "article"}, {word: "engine", type: "noun"}, {word: "runs", type: "verb"}, {word: "fast", type: "adverb"} ] },
            { id: 20, sentence: "I swim daily.", words: [ {word: "I", type: "article"}, {word: "swim", type: "verb"}, {word: "daily", type: "adverb"} ] }
        ];

        let currentActivityIndex = 0;
        let sentenceArray = [];

        // Helper to get token class based on type
        function getTokenClass(type) {
            switch (type) {
                case 'noun':
                    return 'token-noun';
                case 'verb':
                    return 'token-verb';
                case 'adverb':
                    return 'token-adverb'; // Defined in <style>
                default:
                    return 'token-article'; 
            }
        }

        // --- Core Functions ---

        function loadActivity(index) {
            const activity = activityBank[index];
            if (!activity) return;

            currentActivityIndex = index;
            sentenceArray = [];
            dropZone.innerHTML = '<p>Click the words here...</p>'; // Reset drop zone text
            wordBank.innerHTML = '';
            feedback.textContent = `Activity ${activity.id} of ${activityBank.length}. Unscramble the Sentence!`;
            activityCounter.textContent = `Activity ${activity.id}: ${activity.sentence.substring(0, activity.sentence.length - 1)}`;
            feedback.style.color = 'var(--text-dark)';
            checkButton.style.display = 'block';
            nextButton.style.display = 'none';
            finalDisplay.textContent = '';


            // Shuffle the words for the bank
            const shuffledWords = [...activity.words].sort(() => Math.random() - 0.5);

            shuffledWords.forEach(item => {
                const token = document.createElement('div');
                token.className = `word-token ${getTokenClass(item.type)}`;
                token.textContent = item.word;
                token.setAttribute('data-word', item.word);
                token.onclick = () => addWordToSentence(token); // Use click instead of drag/drop
                wordBank.appendChild(token);
            });
            
        }

        function addWordToSentence(token) {
            if (token.parentNode === wordBank) {
                // Remove initial text prompt if it exists
                if (dropZone.querySelector('p')) {
                    dropZone.innerHTML = '';
                }
                
                const wordValue = token.getAttribute('data-word');
                // Remove the word from the bank visually (by moving it)
                wordBank.removeChild(token);
                
                // Add the token to the sentence area
                token.className = token.className.replace('word-token', 'sentence-token');
                token.onclick = () => removeWordFromSentence(token, wordValue);
                
                dropZone.appendChild(token);
                sentenceArray.push(wordValue);
                updateFinalDisplay();
                feedback.textContent = 'Keep going! üöß';
            }
        }

        function removeWordFromSentence(displayToken, wordValue) {
            dropZone.removeChild(displayToken);
            
            const index = sentenceArray.indexOf(wordValue);
            if (index > -1) {
                sentenceArray.splice(index, 1);
            }
            
            // Return the word to the bank (recreate original token)
            const originalToken = document.createElement('div');
            originalToken.className = displayToken.className.replace('sentence-token', 'word-token');
            originalToken.textContent = wordValue;
            originalToken.setAttribute('data-word', wordValue);
            originalToken.onclick = () => addWordToSentence(originalToken);
            
            wordBank.appendChild(originalToken);
            updateFinalDisplay();
            feedback.textContent = 'Try another spot! ü§î';
        }

        function updateFinalDisplay() {
            let sentence = sentenceArray.join(' ');
            // Ensure first word is capitalized for the final display preview
            if (sentence.length > 0) {
                sentence = sentence.charAt(0).toUpperCase() + sentence.slice(1);
            }
            finalDisplay.textContent = sentence;
        }

        function addPunctuation(punc) {
            let currentSentence = finalDisplay.textContent.trim();
            if (currentSentence && !currentSentence.endsWith(punc)) {
                finalDisplay.textContent = currentSentence + punc;
            }
        }

        function checkSentence() {
            const correct = activityBank[currentActivityIndex].sentence;
            let currentDisplay = finalDisplay.textContent.trim();
            
            if (currentDisplay === correct) {
                feedback.textContent = 'ü•á PERFECT! All aboard for the next activity!';
                feedback.style.color = 'var(--green)';
                checkButton.style.display = 'none';
                nextButton.style.display = 'block';
            } else {
                feedback.textContent = `‚ùå Not quite! Remember the correct sequence and the full stop!`;
                feedback.style.color = 'var(--red)';
            }
        }
        
        function loadNextActivity() {
            const nextIndex = currentActivityIndex + 1;
            if (nextIndex < activityBank.length) {
                loadActivity(nextIndex);
            } else {
                feedback.textContent = "ü•≥ YOU CRUSHED IT! All 20 Lingo activities complete. Time to master another module.";
                feedback.style.color = 'var(--purple)';
                checkButton.style.display = 'none';
                nextButton.style.display = 'none';
            }
        }

        // --- EXECUTION CODE: THIS IS WHAT WAS MISSING ---
        window.onload = function() {
            loadActivity(0);
        };
        // --------------------------------------------------

    </script>
</body>
</html>
            { id: 20, sentence: "I swim daily
